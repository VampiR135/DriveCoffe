{"version":3,"sources":["script.js"],"names":["scrollToElement","className","errorInputOffset","parseInt","document","querySelector","concat","getBoundingClientRect","top","window","pageYOffset","scrollTo","init","myMap","objectManager","locationList","openMarkerBaloon","String","prototype","startsWith","searchString","position","onload","container","options","offsetTop","checkFixedHeader","header","classList","contains","add","addEventListener","onclick","menu_switcher","body","remove","Swiper","loop","homeSlider","slidesPerView","home_slider","spaceBetween","centeredSlides","slideToClickedSlide","pagination","clickable","576","locationsSlider","el","slide_id","on","getAttribute","submitForm","cookies","length","data","form","Array","slice","call","elements","reduce","acc","cur","serializeForm","type","name","value","elem","i","push","selected","dataJSON","request","XMLHttpRequest","csrftoken","vacancy_form","feedback_form","substring","id","setRequestHeader","pathList","location","protocol","replace","onreadystatechange","this","readyState","DONE","status","Toastify","text","close","backgroundColor","stopOnFocus","gravity","onerror","showToast","send","JSON","stringify","cookieValue","cookie","split","decodeURIComponent","getCookie","querySelectorAll","formList","event","_loop","phoneList","e","isTrusted","x","match","Wellidate","initEvent","dispatchEvent","_loop2","locationsList","oninput","_loop3","video","ymaps","Map","center","zoom","controls","searchControlProvider","ObjectManager","clusterize","gridSize","clusterDisableClickZoom","objects","set","clusters","geoObjects","features","geometry","coordinates","properties","balloonContent","hintContent","clusterCaption","Parallax","iconColor","objectState","getObjectState","isClustered","state","getById","balloon","open","cluster","markerCoordinates","filter","item","setCenter","getZoom","ready"],"mappings":"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","file":"../js/script.js","sourcesContent":["if (!String.prototype.startsWith) {\n\tString.prototype.startsWith = function(searchString, position) {\n\t\tposition = position || 0;\n\t\treturn this.indexOf(searchString, position) === position;\n\t};\n}\n\nfunction scrollToElement(className) {\n\tconst errorInputOffset = parseInt(document.querySelector(`.${className}`).getBoundingClientRect().top + window.pageYOffset - 70);\n\twindow.scrollTo({\n\t\ttop: errorInputOffset,\n\t\tleft: 0,\n\t\tbehavior: 'smooth'\n\t});\n}\n\nwindow.onload = function (container, options) {\n\n\tfunction checkFixedHeader() {\n\t\tconst offsetTop = window.pageYOffset,\n\t\t\theader = document.querySelector('header');\n\t\tif(offsetTop !== 0) {\n\t\t\tif(!header.classList.contains('header--fixed')) header.classList.add('header--fixed');\n\t\t} else {\n\t\t\tif(header.classList.contains('header--fixed')) header.classList.remove('header--fixed');\n\t\t}\n\t}\n\t// изменение стилей хэдера при скролле\n\twindow.addEventListener('scroll', function() {\n\t\tcheckFixedHeader();\n\t});\n\n\tcheckFixedHeader();\n\n\t// переключатель мобильной версии\n\tconst header = document.querySelector('header'),\n\t\t\t\tmenu_switcher = document.querySelector('.header_menu_switcher ');\n\n\tmenu_switcher.onclick = () => {\n\t\tif(header.classList.contains('header--open')) {\n\t\t\theader.classList.remove('header--open');\n\t\t\tdocument.body.style.overflow = '';\n\t\t} else {\n\t\t\theader.classList.add('header--open');\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t}\n\t};\n\n\t// слайдер на главной\n\tconst homeSlider = document.querySelector('.home_slider');\n\tif(homeSlider) {\n\t\tconst home_slider = new Swiper('.home_slider', {\n\t\t\tloop: true,\n\t\t\tslidesPerView: 'auto',\n\t\t\tspaceBetween: 30,\n\t\t\tcenteredSlides: true,\n\t\t\tslideToClickedSlide: true,\n\t\t\tpagination: {\n\t\t\t\tel: '.home_slider_pagination',\n\t\t\t\tclickable: true,\n\t\t\t},\n\t\t\tbreakpoints: {\n\t\t\t\t576: {}\n\t\t\t}\n\t\t});\n\t}\n\n\t// слайдер локации\n\tconst locationsSlider = document.querySelector('.locations_slider');\n\tif(locationsSlider) {\n\t\tconst home_slider = new Swiper('.locations_slider', {\n\t\t\tloop: true,\n\t\t\tslidesPerView: 1,\n\t\t\tcenteredSlides: true,\n\t\t\tspaceBetween: 30,\n\t\t\tpagination: {\n\t\t\t\tel: '.locations_slider_pagination',\n\t\t\t\tclickable: true,\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tslideChange: () => {\n\t\t\t\t\tconst slide_id = document.querySelector('.swiper-slide-active');\n\t\t\t\t\twindow.openMarkerBaloon(slide_id.getAttribute('data-id'));\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\n\t// валидация и отправка форм\n\tconst serializeForm = (form) => {\n\t\treturn Array.prototype.slice.call(form.elements) // convert form elements to array\n\t\t\t.reduce(function(acc,cur){   // reduce\n\t\t\t\tlet elem = {type : cur.type, name : cur.name, value : cur.value}; // get needed keys\n\t\t\t\tif(['checkbox','radio'].indexOf(cur.type) !==-1){\n\t\t\t\t\telem.checked = cur.checked;\n\t\t\t\t} else if(cur.type === 'select-multiple'){\n\t\t\t\t\telem.value=[];\n\t\t\t\t\tfor(let i = 0;i < cur.length;i++){\n\t\t\t\t\t\telem.value.push({\n\t\t\t\t\t\t\tvalue : cur.options[i].value,\n\t\t\t\t\t\t\tselected : cur.options[i].selected\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(elem.name) acc.push(elem);\n\t\t\t\treturn acc;\n\t\t\t},[]);\n\t};\n\n\t// парсинг Cookie\n\tfunction getCookie(name) {\n\t\tlet cookieValue = null;\n\t\tif (document.cookie && document.cookie !== '') {\n\t\t\tlet cookies = document.cookie.split(';');\n\t\t\tfor (let i = 0; i < cookies.length; i++) {\n\t\t\t\tlet cookie = cookies[i].trim();\n\t\t\t\tif (cookie.substring(0, name.length + 1) === (name + '=')) {\n\t\t\t\t\tcookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cookieValue;\n\t}\n\n\tconst csrftoken = getCookie('csrftoken');\n\n\tconst submitForm = function (form, id) {\n\t\tconst pathList = {\n\t\t\t\t\t\t'vacancy_form': '/api/v1/vacancy/',\n\t\t\t\t\t\t'feedback_form': '/api/v1/feedback/'\n\t\t\t\t\t},\n\t\t\t\t\tdata = serializeForm(form),\n\t\t\t\t\tdataJSON = {};\n\n\t\tfor(let i = 0; i < data.length; i++) {\n\t\t\tdataJSON[data[i].name] = data[i].value;\n\t\t}\n\n\t\tconst request = new XMLHttpRequest();\n\t\trequest.open('POST', pathList[id], true);\n\t\trequest.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');\n\t\trequest.setRequestHeader('X-CSRFToken', csrftoken);\n\t\trequest.setRequestHeader('X-Forwarded-Proto', location.protocol.replace(':', ''));\n\n\t\trequest.onreadystatechange = function() {\n\t\t\tif (this.readyState === XMLHttpRequest.DONE) {\n\t\t\t\tif(this.status >= 200 && this.status < 300) {\n\t\t\t\t\tToastify({\n\t\t\t\t\t\ttext: 'Данные успешно отправлены',\n\t\t\t\t\t\tclose: false,\n\t\t\t\t\t\tgravity: 'top',\n\t\t\t\t\t\tposition: 'center',\n\t\t\t\t\t\tbackgroundColor: '#99d99e',\n\t\t\t\t\t\tstopOnFocus: true,\n\t\t\t\t\t\tclassName: 'toastify_message',\n\t\t\t\t\t}).showToast();\n\t\t\t\t} else {\n\t\t\t\t\tToastify({\n\t\t\t\t\t\ttext: 'Произошла ошибка на сервере',\n\t\t\t\t\t\tclose: false,\n\t\t\t\t\t\tgravity: 'top',\n\t\t\t\t\t\tposition: 'center',\n\t\t\t\t\t\tbackgroundColor: '#ffb2b2',\n\t\t\t\t\t\tstopOnFocus: true,\n\t\t\t\t\t\tclassName: 'toastify_message',\n\t\t\t\t\t}).showToast();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trequest.onerror = function() {\n\t\t\tToastify({\n\t\t\t\ttext: 'Произошла непредвиденная ошибка',\n\t\t\t\tclose: false,\n\t\t\t\tgravity: 'top',\n\t\t\t\tposition: 'center',\n\t\t\t\tbackgroundColor: '#ffb2b2',\n\t\t\t\tstopOnFocus: true,\n\t\t\t\tclassName: 'toastify_message',\n\t\t\t}).showToast();\n\t\t};\n\n\t\trequest.send(JSON.stringify(dataJSON));\n\t};\n\n\tconst formList = document.querySelectorAll('form');\n\n\tif(formList.length) {\n\t\tfor(let i = 0; i < formList.length; i++) {\n\t\t\tformList[i].addEventListener('submit', (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (new Wellidate(formList[i], options).form()) {\n\t\t\t\t\tsubmitForm(formList[i], formList[i].getAttribute('data-type'));\n\t\t\t\t}\n\t\t\t}, false)\n\t\t}\n\t}\n\n\t// маска для телефона\n\tconst phoneList = document.querySelectorAll('[data-phone]');\n\tif(phoneList.length) {\n\t\tfor(let i = 0; i < phoneList.length; i++) {\n\t\t\tphoneList[i].oninput = function(e) {\n\t\t\t\tif (!e.isTrusted) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet x = this.value.replace(/\\D/g, '').match(/([0-9])(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\n\t\t\t\tif(x !== null) this.value = !x[2] ? x[1] : x[1] + ( !x[3] ? x[2] : '(' + x[2] + ') ' + x[3] + (x[4] ? '-' + x[4] : ''));\n\t\t\t\tlet event = document.createEvent('Event');\n\t\t\t\tevent.initEvent('input', false, true);\n\t\t\t\t// args: string type, boolean bubbles, boolean cancelable\n\t\t\t\tphoneList[i].dispatchEvent(event);\n\t\t\t}\n\t\t}\n\t}\n\n\t// переключение карты\n\tconst locationsList = document.querySelectorAll('.locations_list_item');\n\tif(locationsList.length) {\n\t\tfor(let i = 0; i < locationsList.length; i++) {\n\t\t\tlocationsList[i].onclick = () => {\n\t\t\t\tconst id = locationsList[i].getAttribute('data-id');\n\t\t\t\twindow.openMarkerBaloon(id);\n\t\t\t\tscrollToElement('map-container');\n\t\t\t}\n\t\t}\n\t}\n\n\tconst video = document.querySelector('.banner_video');\n\t// Parallax(element, speed, direction)\n\tif(video) {\n\t\tnew Parallax(video, 2, true);\n\t}\n};\n\n//Yandex maps\nif(window.ymaps) {\n\tlet myMap, objectManager;\n\tconst locationList = {\n\t\t\"type\": \"FeatureCollection\",\n\t\t\"features\": [\n\t\t\t{\n\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\"id\": 0,\n\t\t\t\t\"geometry\": {\"type\": \"Point\", \"coordinates\": [53.497424, 49.293479]},\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"balloonContent\": \"<p><b>Drive Coffee Concept Bar</b></p><p>ул. Спортивная, 1и</p>\",\n\t\t\t\t\t\"clusterCaption\": \"cluster_1\",\n\t\t\t\t\t\"hintContent\": \"Drive Coffee Concept Bar\"\n\t\t\t\t},\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"iconColor\": \"#ff0000\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\"id\": 1,\n\t\t\t\t\"geometry\": {\"type\": \"Point\", \"coordinates\": [53.500095, 49.273175]},\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"balloonContent\": \"<p><b>Drive Coffee Vega</b></p><p>ул. Юбилейная, 40г</p>\",\n\t\t\t\t\t\"clusterCaption\": \"cluster_1\",\n\t\t\t\t\t\"hintContent\": \"Drive Coffee Vega\"\n\t\t\t\t},\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"iconColor\": \"#ff0000\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\"id\": 2,\n\t\t\t\t\"geometry\": {\"type\": \"Point\", \"coordinates\": [53.472830, 49.478180]},\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"balloonContent\": \"<p><b>Drive Coffee Komsa</b></p><p>ул. Коммунистическая, 92г</p>\",\n\t\t\t\t\t\"clusterCaption\": \"cluster_1\",\n\t\t\t\t\t\"hintContent\": \"Drive Coffee Komsa\"\n\t\t\t\t},\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"iconColor\": \"#ff0000\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\"id\": 3,\n\t\t\t\t\"geometry\": {\"type\": \"Point\", \"coordinates\": [53.510417, 49.410619]},\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"balloonContent\": \"<p><b>Drive Coffee Zhilina</b></p><p>ул. Жилина, 9</p>\",\n\t\t\t\t\t\"clusterCaption\": \"cluster_1\",\n\t\t\t\t\t\"hintContent\": \"Drive Coffee Zhilina\"\n\t\t\t\t},\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"iconColor\": \"#ff0000\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\"id\": 4,\n\t\t\t\t\"geometry\": {\"type\": \"Point\", \"coordinates\": [53.539840, 49.389528]},\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"balloonContent\": \"<p><b>Drive Coffee ParkHouse/Lime</b></p><p>ул. Автозаводское шоссе, 10в</p>\",\n\t\t\t\t\t\"clusterCaption\": \"cluster_1\",\n\t\t\t\t\t\"hintContent\": \"Drive Coffee ParkHouse/Lime\"\n\t\t\t\t},\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"iconColor\": \"#ff0000\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\"id\": 5,\n\t\t\t\t\"geometry\": {\"type\": \"Point\", \"coordinates\": [53.508960, 49.272400]},\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"balloonContent\": \"<p><b>Drive Coffee Park</b></p><p>Парк Победы Автозаводского района</p>\",\n\t\t\t\t\t\"clusterCaption\": \"cluster_1\",\n\t\t\t\t\t\"hintContent\": \"Drive Coffee Park\"\n\t\t\t\t},\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"iconColor\": \"#ff0000\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\"id\": 6,\n\t\t\t\t\"geometry\": {\"type\": \"Point\", \"coordinates\": [53.501852, 49.252380]},\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"balloonContent\": \"<p><b>Drive Coffee Naba</b></p><p>Набережная 6 квартала</p>\",\n\t\t\t\t\t\"clusterCaption\": \"cluster_1\",\n\t\t\t\t\t\"hintContent\": \"Drive Coffee Naba\"\n\t\t\t\t},\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"iconColor\": \"#ff0000\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\"id\": 7,\n\t\t\t\t\"geometry\": {\"type\": \"Point\", \"coordinates\": [53.522170, 49.414788]},\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"balloonContent\": \"<p><b>Drive Coffee</b></p>\",\n\t\t\t\t\t\"clusterCaption\": \"cluster_1\",\n\t\t\t\t\t\"hintContent\": \"Drive Coffee\"\n\t\t\t\t},\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"iconColor\": \"#ff0000\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t};\n\n\tconst openMarkerBaloon = (id) => {\n\t\tconst objectState = window.objectManager.getObjectState(id);\n\t\tif (objectState.isClustered) {\n\t\t\twindow.objectManager.clusters.state.set('activeObject', window.objectManager.objects.getById(id));\n\t\t\twindow.objectManager.clusters.balloon.open(objectState.cluster.id);\n\t\t} else {\n\t\t\twindow.objectManager.objects.balloon.open(id);\n\t\t}\n\t\tlet markerCoordinates = locationList.features.filter(item => item.id === parseInt(id))[0].geometry.coordinates;\n\t\tmyMap.setCenter(markerCoordinates, myMap.getZoom());\n\t};\n\n\tymaps.ready(init);\n\n\tfunction init () {\n\t\tmyMap = new ymaps.Map('map', {\n\t\t\tcenter: [53.500068, 49.273561],\n\t\t\tzoom: 17,\n\t\t\tcontrols: ['zoomControl', 'searchControl', 'fullscreenControl']\n\t\t}, {\n\t\t\tsearchControlProvider: 'yandex#search'\n\t\t});\n\n\t\tobjectManager = new ymaps.ObjectManager({\n\t\t\tclusterize: true,\n\t\t\tgridSize: 32,\n\t\t\tclusterDisableClickZoom: true\n\t\t});\n\t\tobjectManager.objects.options.set('preset', 'twirl#redIcon');\n\t\tobjectManager.objects.options.set('iconColor', '#ff0000');\n\t\tobjectManager.clusters.options.set('preset', 'islands#redClusterIcons');\n\t\tmyMap.geoObjects.add(objectManager);\n\n\t\tobjectManager.add(locationList);\n\n\t\twindow.openMarkerBaloon(0);\n\t}\n}\n"]}